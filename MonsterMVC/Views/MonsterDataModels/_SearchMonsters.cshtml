@model IEnumerable<MonsterMVC.Domain.Data.MonsterDataModel>

@using (Html.BeginForm("SearchMonsters", "MonsterDataModels", FormMethod.Get))
{
    <b>Search By</b>

    @Html.RadioButton("searchBy", "monsterName", true)
    <text>Monster Name</text>
    @Html.RadioButton("searchBy", "challengeRating", true)
    <text>Challenge Rating</text>
    <br />
    @Html.TextBox("search")<input id="search" class="searchSubmit" type="button" value="Search" />
}

<table class="table">
    <tr>
        <th>
            @Html.DisplayNameFor(model => model.Name)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.ChallengeRating)
        </th>
        <th>
            @Html.DisplayNameFor(model => model.UrlId)
        </th>
        <th></th>
    </tr>

    @foreach (var item in Model)
    {
        <tr>
            <td>
                @Html.DisplayFor(modelItem => item.Name)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.ChallengeRating)
            </td>
            <td>
                @Html.DisplayFor(modelItem => item.UrlId)
            </td>
            <td>
                @Html.ActionLink("Edit", "Edit", new { id = item.Id }) |
                @Html.ActionLink("Details", "Details", new { id = item.Id }) |
                @Html.ActionLink("Delete", "Delete", new { id = item.Id })
            </td>
        </tr>
    }

</table>
<script>
    $(document).ready(function () {
        $('.searchSubmit').click(function () {
            console.log(true);
            //var searchByName = $('#searchByName').val();
            //var searchByCR = $('#searchByCR').val();
            var search = $('input#search').val();

            var url = "@Html.Raw(Url.Action("SearchMonsters", "MonsterDataModels", new { searchBy = "-parameter", search = "sempar" }))";


            url = url.replace("-parameter", "monsterName");


            url = url.replace("sempar", search);

            console.log(url);
            $('#partial').load(url);
        });
    });
</script>

